Service Name,Stream Type,Stream Name,Data Type,Consuming Services,Stream Purpose
BLECommunicationService,@Published,connectionState,BLEConnectionState,"MapPresenter, DataPanelView","BLE connection state enum (.notConnected, .readyForCommands, .dataReady)"
BLECommunicationService,@Published,latestPosition,PositionData?,"BalloonPositionService, MapPresenter","Latest Type 1 telemetry packet with position data"
BLECommunicationService,@Published,latestRadioChannel,RadioChannelData?,"BalloonPositionService, MapPresenter, DataPanelView","Latest Type 0/2 radio channel data (frequency, signal, battery)"
BLECommunicationService,@Published,latestSettings,SettingsData?,"MapPresenter, SettingsView","Latest Type 3 device settings data"
BLECommunicationService,@Published,deviceSettings,DeviceSettings,"DataPanelView, SettingsView, FrequencyManagementService","Device configuration (frequency, probe type, etc.)"
BLECommunicationService,@Published,deviceStatus,DeviceStatusData?,"DataPanelView","Device battery and signal status from Type 0 packets"
BLECommunicationService,@Published,afcFrequencies,[Int],"SettingsView","AFC frequency values for display"
BLECommunicationService,@Published,afcMovingAverage,Int,"SettingsView","AFC moving average frequency"
BLECommunicationService,@Published,connectionStatus,ConnectionStatus,"DataPanelView","Connection health status"
BLECommunicationService,@Published,lastMessageTimestamp,Date?,"MapPresenter, DataPanelView","Timestamp of last BLE message for staleness detection"
BLECommunicationService,PassthroughSubject,positionDataStream,PositionData,"BalloonPositionService","Real-time position data stream"
BLECommunicationService,PassthroughSubject,radioChannelDataStream,RadioChannelData,"BalloonPositionService","Real-time radio channel data stream"
BLECommunicationService,PassthroughSubject,settingsDataStream,SettingsData,"None (available but unused)","Real-time settings data stream"
APRSDataService,@Published,latestPosition,PositionData?,"BalloonPositionService, MapPresenter","Latest APRS position data from SondeHub"
APRSDataService,@Published,latestRadioChannel,RadioChannelData?,"BalloonPositionService, MapPresenter, DataPanelView","Latest APRS radio data (frequency, probe type)"
APRSDataService,@Published,connectionStatus,ConnectionStatus,"DataPanelView","APRS API connection status"
APRSDataService,@Published,bleSerialName,String?,"DataPanelView","BLE sonde name for comparison"
APRSDataService,@Published,aprsSerialName,String?,"DataPanelView","APRS sonde name for comparison"
APRSDataService,PassthroughSubject,positionDataStream,PositionData,"BalloonPositionService","Real-time APRS position stream"
APRSDataService,PassthroughSubject,radioChannelDataStream,RadioChannelData,"BalloonPositionService","Real-time APRS radio stream"
BalloonPositionService,@Published,currentPositionData,PositionData?,"BalloonTrackService, MapPresenter, DataPanelView, PredictionService","Unified position data (BLE or APRS)"
BalloonPositionService,@Published,currentRadioChannel,RadioChannelData?,"MapPresenter, DataPanelView, FrequencyManagementService","Unified radio data (BLE or APRS)"
BalloonPositionService,@Published,currentBalloonName,String?,"BalloonTrackService, MapPresenter","Current sonde name"
BalloonPositionService,@Published,dataSource,TelemetrySource,"MapPresenter, DataPanelView","Current telemetry source (.ble or .aprs)"
BalloonPositionService,@Published,aprsDataAvailable,Bool,"MapPresenter","APRS data availability flag"
BalloonPositionService,@Published,currentState,DataState,"ServiceCoordinator, MapPresenter, FrequencyManagementService","7-state machine state (startup, liveBLE, waitingForAPRS, aprsFallback, noTelemetry)"
BalloonPositionService,@Published,balloonPhase,BalloonPhase,"MapPresenter, DataPanelView","Balloon flight phase (ascending, descending, landed)"
BalloonPositionService,@Published,landingPoint,CLLocationCoordinate2D?,"MapPresenter, ServiceCoordinator","Current landing point coordinate"
BalloonPositionService,@Published,balloonDisplayPosition,CLLocationCoordinate2D?,"MapPresenter","Display position for map annotations"
BalloonTrackService,@Published,currentBalloonTrack,[BalloonTrackPoint],"MapPresenter","Complete balloon track history"
BalloonTrackService,@Published,currentBalloonName,String?,"MapPresenter","Active balloon name"
BalloonTrackService,@Published,motionMetrics,BalloonMotionMetrics,"DataPanelView, MapPresenter","Smoothed speeds and adjusted descent rate"
BalloonTrackService,@Published,landingPosition,CLLocationCoordinate2D?,"MapPresenter","Detected landing position"
BalloonTrackService,PassthroughSubject,trackUpdated,Void,"MapPresenter","Track update notification"
CurrentLocationService,@Published,locationData,LocationData?,"RouteCalculationService, MapPresenter","User location with accuracy and heading"
CurrentLocationService,@Published,distanceToBalloon,CLLocationDistance?,"DataPanelView","Distance to balloon in meters"
CurrentLocationService,@Published,isWithin200mOfBalloon,Bool,"MapPresenter","Proximity flag for UI changes"
CurrentLocationService,@Published,shouldUpdateRoute,Bool,"RouteCalculationService","Route recalculation trigger"
PredictionService,@Published,latestPrediction,PredictionData?,"MapPresenter, LandingPointTrackingService","Complete prediction with paths and landing point"
PredictionService,@Published,predictedLandingTimeString,String,"DataPanelView","Formatted landing time string"
PredictionService,@Published,remainingFlightTimeString,String,"DataPanelView","Formatted remaining flight time string"
LandingPointTrackingService,@Published,landingHistory,[LandingPredictionPoint],"MapPresenter","Historical landing predictions"
LandingPointTrackingService,@Published,lastLandingPrediction,LandingPredictionPoint?,"RouteCalculationService","Latest landing prediction for routing"
RouteCalculationService,@Published,currentRoute,RouteData?,"MapPresenter, DataPanelView","Current route with distance and travel time"
RouteCalculationService,@Published,isCalculatingRoute,Bool,"MapPresenter","Route calculation status"
RouteCalculationService,@Published,transportMode,TransportationMode,"MapPresenter, DataPanelView","Selected transport mode (car/bike)"
ServiceCoordinator,@Published,startupProgress,String,"BalloonHunterApp","Startup progress message"
ServiceCoordinator,@Published,currentStartupStep,Int,"BalloonHunterApp","Current startup step number"
ServiceCoordinator,@Published,isStartupComplete,Bool,"BalloonHunterApp","Startup completion flag"
ServiceCoordinator,@Published,showLogo,Bool,"BalloonHunterApp","Logo display control"
ServiceCoordinator,@Published,showTrackingMap,Bool,"BalloonHunterApp","Map display control"
ServiceCoordinator,@Published,frequencySyncProposal,FrequencySyncProposal?,"MapPresenter, DataPanelView","APRS-BLE frequency sync proposal"
FrequencyManagementService,@Published,syncProposal,FrequencySyncProposal?,"ServiceCoordinator, MapPresenter","Frequency synchronization proposal"
PersistenceService,@Published,userSettings,UserSettings,"All Services","User prediction parameters and settings"
PersistenceService,@Published,deviceSettings,DeviceSettings?,"BLECommunicationService, SettingsView","Cached device configuration"
MapPresenter,@Published,trackPoints,[BalloonTrackPoint],"TrackingMapView","Processed track points for map display"
MapPresenter,@Published,predictionPath,MKPolyline?,"TrackingMapView","Prediction path polyline"
MapPresenter,@Published,userRoute,MKPolyline?,"TrackingMapView","User route polyline"
MapPresenter,@Published,landingHistory,[LandingPredictionPoint],"TrackingMapView","Landing prediction history for map"
MapPresenter,@Published,balloonPosition,PositionData?,"TrackingMapView, DataPanelView","Current balloon position for display"
MapPresenter,@Published,balloonRadioChannel,RadioChannelData?,"DataPanelView","Radio channel data for display"
MapPresenter,@Published,balloonSettings,SettingsData?,"DataPanelView","Settings data for display"
MapPresenter,@Published,annotations,[MapAnnotationItem],"TrackingMapView","Map annotations collection"
MapPresenter,@Published,isHeadingMode,Bool,"TrackingMapView","Heading mode toggle state"
MapPresenter,@Published,transportMode,TransportationMode,"TrackingMapView","Transport mode for route calculation"
MapPresenter,@Published,region,MKCoordinateRegion?,"TrackingMapView","Map region for camera control"
MapPresenter,@Published,smoothedDescentRate,Double?,"DataPanelView","Smoothed descent rate for display"
MapPresenter,@Published,smoothenedPredictionActive,Bool,"DataPanelView","Smoothed prediction active flag for color coding"
NavigationService,None,None,None,"ServiceCoordinator","No published streams - handles Apple Maps integration"